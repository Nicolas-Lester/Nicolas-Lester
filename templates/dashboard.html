<!DOCTYPE html>
{% load static %}
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <style>
        body {
            background-image: url('{% static "images/candidato.jpg" %}');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed; 
            background-color: black; 
            color: white; 
        }
    </style>
</head>

<body>
    <nav style="background-color:#2E2C2A;" class="navbar navbar-expand-lg navbar-dark">
        <a style="color: white; font-size: 36px; font-weight: bold; font-style: italic; padding-left: 30px"
            class="navbar-brand" href="#">INFOSU.CL</a>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a href="{% url 'identificador' %}" style="font-size: 20px; padding-left: 950px" class="nav-link">Home</a>
                </li>
                <li class="nav-item">
                    <a href="{% url 'home_infosu' %}"style="font-size: 20px;" class="nav-link" href="#">Nosotros</a>
                </li>
                <li class="nav-item">
                    <a href="{% url 'logout' %}" style="font-size: 20px; color: white; text-decoration: none;" class="nav-link">Cerrar sesión</a>
                </li>
            </ul>
        </div>
    </nav>
    <div class="container">
        <h1 style="color: white">Bienvenido a tu perfil de candidato</h1>
        <p style="color: white">Hola, {{user.username }}</p>
        <p style="color: white">Email: {{user.email }}</p>
        
        <form action method="post" enctype="multipart/form-data">
            {% csrf_token %}
            
            <div class="row">
                <div class="col">
                    <label for="{{ form.competencia_1.id_for_label }}" style="margin-top:2px;">Competencia 1:</label>
                    <div class="row" style="width: 400px; height: 35px;">
                        {{ form.competencia_1 }}
                    </div>
                    <label for="{{ form.competencia_2.id_for_label }}" style="margin-top:15px;">Competencia 2:</label>
                    <div class="row" style="width: 400px; height: 35px;">
                        {{ form.competencia_2 }}
                    </div>
                    <label for="{{ form.competencia_3.id_for_label }}" style="margin-top:15px;">Competencia 3:</label>
                    <div class="row" style="width: 400px; height: 35px;">
                        {{ form.competencia_3 }}
                    </div>
                    <label for="{{ form.competencia_4.id_for_label }}" style="margin-top:15px;">Competencia 4:</label>
                    <div class="row" style="width: 400px; height: 35px;">
                        {{ form.competencia_4 }}
                    </div>
                    <label for="{{ form.competencia_5.id_for_label }}" style="margin-top:15px;">Competencia 5:</label>
                    <div class="row" style="width: 400px; height: 35px;">
                        {{ form.competencia_5 }}
                    </div>
                    <label for="{{ form.competencia_6.id_for_label }}" style="margin-top:15px;">Competencia 6:</label>
                    <div class="row" style="width: 400px; height: 35px;">
                        {{ form.competencia_6 }}
                    </div>
                    {% if form.competencia_1.errors or form.competencia_2.errors or form.competencia_3.errors or form.competencia_4.errors or form.competencia_5.errors or form.competencia_6.errors %}
                        <p style="color: red;">Debe seleccionar una competencia en cada campo.</p>
                    {% endif %}
                </div>
                
                <div class="col">
                    <div class="row">
                        <div style="background-color: #D9D9D9; width: 500px; border-radius: 10px; color:#000000; height: 300px;">
                            <div class="mb-3" style="padding: 8px;">
                                <label for="exampleFormControlTextarea1" style="font-size: 15px;" class="form-label; ">Comentarios extra:</label>
                                <div class="row" style="width: 480px;">
                                    {{ form.comentarios_extra }}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row" style="margin-top: 10px;">
                        <div class="col" style="width: 100px;">
                            <label class="form-label" style="color: white;">Recomendacíon 1</label>
                            {{ form.archivo1 }}
                        </div>
                        <div class="col">
                            <label class="form-label" style="color: white;">Recomendacíon 2</label>
                            {{ form.archivo2 }}
                        </div>
                        <div class="col" style="margin-top: 10px;">
                            <label class="form-label" style="color: white;">Certificacion/CV</label>
                            {{ form.archivo3}}
                        </div>
                        
                    </div>
                    <div class="boton">
                        <button type="submit" class="btn btn-dark" style="background: #744E33; margin-top: 50px; font-size: 20px; margin-left: 400px; color: #FFFFFF; width:200px">Enviar</button>
                    </div>
                </div>
            </div>
        </form>
        <!--Cardview de puesto de candidato-->
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <div class="card mt-5">
                        <div class="card-header bg-primary text-white">
                            <h2 class="text-center">Te han seleccionado para:</h2>
                        </div>
                        <div class="card-body">
                            {% if asignaciones %}
                                <ul class="list-group">
                                    {% for asignacion in asignaciones %}
                                        <li class="list-group-item">
                                            <h4>{{ asignacion.puesto_trabajo.nombre }}</h4>
                                            <p>{{ asignacion.puesto_trabajo.descripcion }}</p>
                                        </li>
                                    {% endfor %}
                                </ul>
                            {% else %}
                                <p class="text-center">No tienes asignaciones en este momento.</p>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
    </div>

    <!-- Footer infosu.cl -->
    <footer class="bg-light text-center text-lg-start" style="margin-top: 100px;">
        <div class="text-center p-3" style="background-color: #2E2C2A;">
            <a class="text" style="color: white; text-decoration: none; font-size: 36px; font-weight: 800; font-style: italic;">INFOSU.CL</a><p style="color:white">&copy; 2023 infosu_cl. Todos los derechos reservados.</p>
        </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
</body>

</html>
