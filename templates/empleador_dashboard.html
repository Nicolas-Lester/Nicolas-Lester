<!DOCTYPE html>
{% load static %}
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <style>
        body {
            background-image: url('{% static "images/candidato.jpg" %}');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed; 
            background-color: black; 
            color: white; 
        }

        
    </style>
</head>

<body>
    <nav style="background-color:#2E2C2A;" class="navbar navbar-expand-lg navbar-dark">
        <a style="color: white; font-size: 36px; font-weight: bold; font-style: italic; padding-left: 30px"
            class="navbar-brand" href="#">INFOSU.CL</a>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a href="{% url 'identificador' %}" style="font-size: 20px; padding-left: 950px" class="nav-link">Home</a>
                </li>
                <li class="nav-item">
                    <a href="{% url 'home_infosu' %}" style="font-size: 20px;" class="nav-link" href="#">Nosotros</a>
                </li>
                <li class="nav-item">
                    <a href="{% url 'empleador_logout' %}" style="font-size: 20px; color: white; text-decoration: none;" class="nav-link">Cerrar sesión</a>
                </li>
            </ul>
        </div>
    </nav>
    <div class="container">
        <h1 style="color: white">Bienvenido a tu perfil de empleador</h1>
        <p style="color: white">Hola, {{user.username }}</p>
        <p style="color: white">Email: {{user.email }}</p>

        <div class="row">
            <div class="col">
                <form>
                    {% if candidato_seleccionado.competencia_1 %}
                    <div class="mb-3">
                        <label for="competencia1" class="form-label" style="color: white;">Competencia 1</label>
                        <input type="text" style="width: 320px;" class="form-control" id="competencia1" name="competencia1" placeholder="Competencia 1" value="{{ candidato_seleccionado.competencia_1 }}" readonly>
                    </div>
                    {% endif %}
                
                    {% if candidato_seleccionado.competencia_2 %}
                    <div class="mb-3">
                        <label for="competencia2" class="form-label" style="color: white;">Competencia 2</label>
                        <input type="text" style="width: 320px;" class="form-control" id="competencia2" name="competencia2" placeholder="Competencia 2" value="{{ candidato_seleccionado.competencia_2 }}" readonly>
                    </div>
                    {% endif %}
                
                    {% if candidato_seleccionado.competencia_3 %}
                    <div class="mb-3">
                        <label for="competencia3" class="form-label" style="color: white;">Competencia 3</label>
                        <input type="text" style="width: 320px;" class="form-control" id="competencia3" name="competencia3" placeholder="Competencia 3" value="{{ candidato_seleccionado.competencia_3 }}" readonly>
                    </div>
                    {% endif %}
                
                    {% if candidato_seleccionado.competencia_4 %}
                    <div class="mb-3">
                        <label for="competencia4" class="form-label" style="color: white;">Competencia 4</label>
                        <input type="text" style="width: 320px;" class="form-control" id="competencia4" name="competencia4" placeholder="Competencia 4" value="{{ candidato_seleccionado.competencia_4 }}" readonly>
                    </div>
                    {% endif %}
                
                    {% if candidato_seleccionado.competencia_5 %}
                    <div class="mb-3">
                        <label for="competencia5" class="form-label" style="color: white;">Competencia 5</label>
                        <input type="text" style="width: 320px;" class="form-control" id="competencia5" name="competencia5" placeholder="Competencia 5" value="{{ candidato_seleccionado.competencia_5 }}" readonly>
                    </div>
                    {% endif %}
                
                    {% if candidato_seleccionado.competencia_6 %}
                    <div class="mb-3">
                        <label for="competencia6" class="form-label" style="color: white;">Competencia 6</label>
                        <input type="text" style="width: 320px;" class="form-control" id="competencia6" name="competencia6" placeholder="Competencia 6" value="{{ candidato_seleccionado.competencia_6 }}" readonly>
                    </div>
                    {% endif %}
                
                    {% if not candidato_seleccionado.competencia_1 and not candidato_seleccionado.competencia_2 and not candidato_seleccionado.competencia_3 and not candidato_seleccionado.competencia_4 and not candidato_seleccionado.competencia_5 and not candidato_seleccionado.competencia_6 %}
                    <p style="color: white;">Este candidato aún no ha seleccionado competencias.</p>
                    {% endif %}
                </form>
                
            </div>
            <div class="col">
                <div class="row">
                    <form method="post" action="{% url 'mostrarcandidato' %}">
                        {% csrf_token %}
                
                        <div class="mb-3">
                            <label for="{{ form.candidato.id_for_label }}" class="form-label" style="color: white;">Candidato</label>
                            {{ form.candidato }}
                        </div>
                
                        <div class="mb-3">
                            <button type="submit" class="btn btn-primary mt-3">Seleccionar Candidato</button>
                        </div>
                    </form>
                </div>
                {% if candidato_seleccionado %}
                <div class="row">
                    <div class="mb-3" style="background-color: #D9D9D9; width: 500px; border-radius: 10px; color:#000000; height: 300px; margin-top: 30px;">
                        <label for="comentarios_extra" class="form-label" style="color: black;">Comentarios extra:</label>
                        <textarea style="height: 250px; resize: none;" class="form-control" id="comentarios_extra" name="comentarios_extra" placeholder="Comentarios extra" readonly>{{ candidato_seleccionado.comentarios_extra }}</textarea>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col">
                        <div class="mb-3">
                            <input type="text" class="form-control" id="competencia2" name="competencia2" placeholder="Archivos 1" value="{{ candidato_seleccionado.archivo1 }}" readonly>
                            {% if candidato_seleccionado.archivo1 %}
                                <a style="background-color: rgb(31, 31, 31); color: rgb(255, 255, 255);" href="{% url 'descargar_archivo_candidato' candidato_seleccionado.id 'archivo1' %}" class="btn btn-dark" style="background: #000000; margin-top: 20px">
                                    Descargar Recomendacíon 1  {{ candidato_seleccionado.username }}
                                </a>
                            {% else %}
                                <p style="color: white;">No se adjuntaron archivos para Recomendacíon 1.</p>
                            {% endif %}
                        </div>
                    </div>
                    <div class="col">
                        <div class="mb-3">
                            <input type="text" class="form-control" id="competencia2" name="competencia2" placeholder="Archivos 2" value="{{ candidato_seleccionado.archivo2 }}" readonly>
                            {% if candidato_seleccionado.archivo2 %}
                                <a style="background-color: rgb(31, 31, 31); color: rgb(255, 255, 255);" href="{% url 'descargar_archivo_candidato' candidato_seleccionado.id 'archivo2' %}" class="btn btn-dark" style="background: #000000; margin-top: 20px">
                                    Descargar Recomendacíon 2  {{ candidato_seleccionado.username }}
                                </a>
                            {% else %}
                                <p style="color: white;">No se adjuntaron archivos para Recomendacíon 1.</p>
                            {% endif %}
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="mb-3">
                        <input style="width: 305px;" type="text" class="form-control" id="competencia2" name="competencia2" placeholder="Archivos 3" value="{{ candidato_seleccionado.archivo3 }}" readonly>
                        {% if candidato_seleccionado.archivo3 %}
                            <a style="background-color: rgb(31, 31, 31); color: rgb(255, 255, 255);" href="{% url 'descargar_archivo_candidato' candidato_seleccionado.id 'archivo3' %}" class="btn btn-dark" style="background: #000000; margin-top: 20px">
                                Descargar Certificación/CV  {{ candidato_seleccionado.username }}
                            </a>
                        {% else %}
                            <p style="color: white;">No se adjuntaron archivos para Certificación/CV.</p>
                        {% endif %}
                    </div>
                    
                </div>
                
                {% endif %}
                <div class="row">
                    <form method="post" action="{% url 'asignarpuesto' %}">
                        {% csrf_token %}
                        
                        {% if form.candidato_seleccionado.value %}
                            <!-- Muestra el mensaje solo si hay un candidato seleccionado -->
                            <p style="color: white;">Candidato Seleccionado</p>
                        {% else %}
                            <!-- Muestra el campo 'Candidato' solo si no hay un candidato seleccionado -->
                            <div class="mb-3">
                                <label for="{{ form.candidato.id_for_label }}" class="form-label" style="color: white;">Candidato</label>
                                {{ form.candidato }}
                            </div>
                        {% endif %}
                
                        <div class="mb-3">
                            <label for="{{ form.puesto_trabajo.id_for_label }}" class="form-label" style="color: white;">Puesto de Trabajo</label>
                            {{ form.puesto_trabajo }}
                        </div>
                
                        <div class="mb-3">
                            <button type="submit" class="btn btn-success mt-3">Asignar Puesto de Trabajo</button>
                        </div>
                    </form>
                </div>
            </div>
      
        </div>        
    </div>

    <!-- Footer infosu.cl -->
    <footer class="bg-light text-center text-lg-start" style="margin-top: 500px;">
        <div class="text-center p-3" style="background-color: #2E2C2A;">
            <a class="text" style="color: white; text-decoration: none; font-size: 36px; font-weight: 800; font-style: italic;">INFOSU.CL</a><p style="color:white">&copy; 2023 infosu_cl. Todos los derechos reservados.</p>
        </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
</body>

</html>